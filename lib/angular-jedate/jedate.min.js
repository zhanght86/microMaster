window.console&&(console=console||{log:function(){return}});(function(a,b){if(typeof define==="function"&&define.amd){define(["jedate"],b)}else{if(typeof exports==="object"){module.exports=b(require("jeDate"))}else{a.jeDate=b(a.jeDate)}}})(this,function(e){var b={},f=document,a=/\w+|d+/g;var g=function(h){return window.parseInt(h,10)};var d=function(){function h(w,r){r=r||document;if(!/^[\w\-_#]+$/.test(w)&&r.querySelectorAll){return j(r.querySelectorAll(w))}if(-1<w.indexOf(",")){for(var v=w.split(/,/g),m=[],k=0,u=v.length;k<u;++k){m=m.concat(h(v[k],r))}return o(m)}var v=w.match(n),m=v.pop(),u=(m.match(C)||l)[1],t=!u&&(m.match(B)||l)[1],k=!u&&(m.match(A)||l)[1],m=w.match(/\[(?:[\w\-_][^=]+)=(?:[\'\[\]\w\-_]+)\]/g);if(t&&!m&&!k&&r.getElementsByClassName){k=j(r.getElementsByClassName(t))}else{k=!u&&j(r.getElementsByTagName(k||"*"));t&&(k=s(k,"className",RegExp("(^|\\s)"+t+"(\\s|$)")));if(u){return(v=r.getElementById(u))?[v]:[]}if(m){for(u=0;u<m.length;u++){var t=(m[u].match(q)||l)[1],p=(m[u].match(q)||l)[2],p=p.replace(/\'/g,"").replace(/\-/g,"\\-").replace(/\[/g,"\\[").replace(/\]/g,"\\]"),k=s(k,t,RegExp("(^"+p+"$)"))}}}return v[0]&&k[0]?i(v,k):k}function j(t){try{return Array.prototype.slice.call(t)}catch(p){for(var r=[],m=0,k=t.length;m<k;++m){r[m]=t[m]}return r}}function i(z,v,y){var E=z.pop();if("\x3e"===E){return i(z,v,!0)}for(var D=[],x=-1,w=(E.match(C)||l)[1],u=!w&&(E.match(B)||l)[1],E=!w&&(E.match(A)||l)[1],r=-1,k,t,p,E=E&&E.toLowerCase();k=v[++r];){t=k.parentNode;do{if(p=(p=(p=!E||"*"===E||E===t.nodeName.toLowerCase())&&(!w||t.id===w))&&(!u||RegExp("(^|\\s)"+u+"(\\s|$)").test(t.className)),y||p){break}}while(t=t.parentNode);p&&(D[++x]=k)}return z[0]&&D[0]?i(z,D):D}function s(v,p,u){for(var m=-1,k,t=-1,r=[];k=v[++m];){u.test(k.getAttribute(p))&&(r[++t]=k)}return r}var n=/(?:[\*\w\-\\.#]+)+(?:\[(?:[\w\-_][^=]+)=(?:[\'\[\]\w\-_]+)\])*|\*|>/gi,B=/^(?:[\w\-_]+)?\.([\w\-_]+)/,C=/^(?:[\w\-_]+)?#([\w\-_]+)/,A=/^([\w\*\-_]+)/,l=[null,null,null],q=/\[([\w\-_][^=]+)=([\'\[\]\w\-_]+)\]/,o=function(){var m=+new Date,k=function(){var p=1;return function(t){var r=t[m],u=p++;return r?!1:(t[m]=u,!0)}}();return function(w){for(var r=w.length,p=[],v=-1,u=0,t;u<r;++u){t=w[u],k(t)&&(p[++v]=t)}m+=1;return p}}();return h}();b.isType=function(i,h){h=h.replace(/\b(\w)|\s(\w)/g,function(j){return j.toUpperCase()});return Object.prototype.toString.call(i)==="[object "+h+"]"};b.each=function(m,l){if(b.isType(m,"array")){for(var k=0,h=m.length;k<h;k++){if(l.call(m[k],k,m[k])===false){break}}}else{for(var j in m){if(m.hasOwnProperty(j)){if(l.call(m[j],j,m[j])===false){break}}}}};b.attr=function(i,h,j){if(typeof h==="string"&&typeof j==="undefined"){return i.getAttribute(h)}else{i.setAttribute(h,j)}return this};b.stopmp=function(h){h=h||window.event;h.stopPropagation?h.stopPropagation():h.cancelBubble=true;return this};b.hasClass=function(i,h){i=i||{};return new RegExp("\\b"+h+"\\b").test(i.className)};b.addClass=function(i,h){i=i||{};b.hasClass(i,h)||(i.className+=" "+h);i.className=i.className.replace(/^\s|\s$/g,"").replace(/\s+/g," ");return this};b.removeClass=function(i,h){i=i||{};if(b.hasClass(i,h)){i.className=i.className.replace(new RegExp("(\\s|^)"+h+"(\\s|$)"),"")}return this};b.getStyle=function(j,i){var h=document.defaultView?window.getComputedStyle(j,null)[i]:j.currentStyle[i];return h};b.isShow=function(i,h){i.style.display=h!=true?"none":"block"};b.html=function(h,i){if(typeof i!="undefined"||i!==undefined&&h.nodeType===1){h.innerHTML=i}else{return h.innerHTML}return this};b.text=function(i,j){if(j!==undefined&&i.nodeType===1){document.all?i.innerText=j:i.textContent=j}else{var h=document.all?i.innerText:i.textContent;return b.trim(h)}return this};b.val=function(h,i){if(i!==undefined&&h.nodeType===1){h.value=i}else{return b.trim(h.value)}return this};b.bind=function(h,k,j){k=k.toLowerCase();var i=function(l){l.attachEvent?l.attachEvent("on"+k,function(){j.call(l,window.type)}):l.addEventListener(k,j,false)};return h==document?i(document):b.each(h,function(l,m){i(m)})};b.docScroll=function(h){h=h?"scrollLeft":"scrollTop";return f.body[h]|f.documentElement[h]};b.winarea=function(h){return f.documentElement[h?"clientWidth":"clientHeight"]};b.isLeap=function(h){return(h%100!==0&&h%4===0)||(h%400===0)};b.getDaysNum=function(j,h){var i=31;switch(g(h)){case 2:i=b.isLeap(j)?29:28;break;case 4:case 6:case 9:case 11:i=30;break}return i};b.getYM=function(k,h,j){var i=new Date(k,h-1);i.setMonth(h-1+j);return{y:i.getFullYear(),m:i.getMonth()+1}};b.getPrevMonth=function(j,h,i){return b.getYM(j,h,0-(i||1))};b.getNextMonth=function(j,h,i){return b.getYM(j,h,i||1)};b.digit=function(h){return h<10?"0"+(h|0):h};b.IsNum=function(h){return(h!=null&&h!="")?!isNaN(h):false};b.parse=function(j,i,k){j=j.concat(i);var l=b.parseCheck(k,false).substring(0,5)=="hh:mm",h=2;return k.replace(/YYYY|MM|DD|hh|mm|ss/g,function(o,n){var m=l?++h:j.index=++j.index|0;return b.digit(j[m])})};b.parseCheck=function(i,h){var j=[];i.replace(/YYYY|MM|DD|hh|mm|ss/g,function(l,k){j.push(l)});return j.join(h==true?"-":":")};b.checkFormat=function(h){var i=[];h.replace(/YYYY|MM|DD|hh|mm|ss/g,function(k,j){i.push(k)});return i.join("-")};b.parseMatch=function(i){var h=i.split(" ");return h[0].match(a)};b.checkDate=function(h){var i=h.match(a);if(isNaN(i[0])||isNaN(i[1])||isNaN(i[2])){return false}if(i[1]>12||i[1]<1){return false}if(i[2]<1||i[2]>31){return false}if((i[1]==4||i[1]==6||i[1]==9||i[1]==11)&&i[2]>30){return false}if(i[1]==2){if(i[2]>29){return false}if((i[0]%100==0&&i[0]%400!=0||i[0]%4!=0)&&i[2]>28){return false}}return true};b.trim=function(h){return h.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};b.nowDate=function(l,n){n=n||"YYYY-MM-DD hh:mm:ss";if(typeof l==="string"){var o=new Date(g(l)*1000)}else{l=l|0;var o=new Date(),k=o.getTime()+1000*60*60*24*l;o.setTime(k)}var m=o.getFullYear(),h=o.getMonth()+1,p=o.getDate(),i=o.getHours(),j=o.getMinutes(),q=o.getSeconds();return b.parse([m,b.digit(h),b.digit(p)],[b.digit(i),b.digit(j),b.digit(q)],n)};b.montharr=[1,2,3,4,5,6,7,8,9,10,11,12];b.weeks=["日","一","二","三","四","五","六"];b.isValHtml=function(h){return/textarea|input/.test(h.tagName.toLocaleLowerCase())};b.festival=function(h,j){var i="";switch(h){case"1.1":i="元旦";break;case"2.14":i="情人";break;case"3.8":i="妇女";break;case"5.1":i="劳动";break;case"6.1":i="儿童";break;case"8.1":i="建军";break;case"9.10":i="教师";break;case"10.1":i="国庆";break;case"12.24":i="平安";break;case"12.25":i="圣诞";break;default:i=j;break}return i};var c={skinCell:"jedateblue",initAddVal:[0],format:"YYYY-MM-DD hh:mm:ss",minDate:"1900-01-01 00:00:00",maxDate:"2099-12-31 23:59:59",startMin:"",startMax:""};b.index=Math.floor(Math.random()*9000);b.boxCell="#jedatebox";b.find=function(h){return d(b.boxCell+" "+h)};b.isBool=function(h){return(h==undefined||h==true?true:false)};b.addDateTime=function(o,r,s,u){var i=b.checkFormat(u).substring(0,5)=="hh-mm"?true:false;var q=i?o.replace(/^(\d{2})(?=\d)/g,"$1,"):o.substr(0,4).replace(/^(\d{4})/g,"$1,")+o.substr(4).replace(/^(\d{2})(?=\d)/g,"$1,");var n=b.IsNum(o)?q.match(a):o.match(a),p=new Date(),m=g(n[0]),l=n[1]==undefined?p.getMonth()+1:g(n[1]),k=n[2]==undefined?p.getDate():g(n[2]),j=n[3]==undefined?p.getHours():g(n[3]),h=n[4]==undefined?p.getMinutes():g(n[4]),v=n[5]==undefined?p.getMinutes():g(n[5]);var t=new Date(m,b.digit(l)-1,(s=="DD"?k+r:k),(s=="hh"?j+r:j),(s=="mm"?h+r:h),b.digit(v));return b.parse([t.getFullYear(),t.getMonth()+1,t.getDate()],[t.getHours(),t.getMinutes(),t.getSeconds()],u)};b.initDate=function(j){var m=b.event?b.event:window.event,l,k=(j.isinitVal==undefined||j.isinitVal==false)?false:true;var i=function(p,n){if(d(n)[0]){return}b.opts=j,b.format=j.format||c.format,minTime=b.opts.minDate||c.minDate,maxTime=b.opts.maxDate||c.maxDate;b.fixed=b.isBool(j.fixed);if(/\YYYY-MM-DD/.test(b.checkFormat(b.format))){b.checkDate(minTime)?b.minDate=minTime:alert("最小日期不合法");b.checkDate(maxTime)?b.maxDate=maxTime:alert("最大日期不合法")}else{b.minDate=minTime,b.maxDate=maxTime}var o=f.createElement("div"),q=j.zIndex==undefined?2099:j.zIndex;o.className="jedatebox "+(b.opts.skinCell||c.skinCell);o.id=b.boxCell.replace(/\#/g,"");b.attr(o,"author","chen guojun--www.jayui.com--version:"+e.version+"");if(j.isDisplay){b.attr(o,"date",true)}o.style.cssText="z-index:"+q+";position:"+(b.fixed==true?"absolute":"fixed")+";display:block;";p.appendChild(o)},h=function(s){var n=j.format||c.format,t=j.initAddVal||c.initAddVal,p,q;if(t.length==1){p=t[0],q="DD"}else{p=t[0],q=t[1]}var o=b.nowDate(0,n),r=b.addDateTime(o,p,q,n);(b.val(s)||b.text(s))==""?b.isValHtml(s)?b.val(s,r):b.text(s,r):b.isValHtml(s)?b.val(s):b.text(s)};if(k){b.each(d("body "+j.dateCell),function(n,o){h(o)})}if(m){b.stopmp(m);i(f.body,b.boxCell);b.elemCell=typeof(j.dateCell)=="string"?d(j.dateCell)[0]:j.dateCell;b.setHtml()}else{b.bind(d(j.dateCell),"click",function(n){b.stopmp(n);i(f.body,b.boxCell);b.elemCell=this;b.setHtml()})}};b.orien=function(m,j,o){var n,k,i,h,l=b.fixed?j.getBoundingClientRect():m.getBoundingClientRect();if(b.fixed){k=l.right+m.offsetWidth/1.5>=b.winarea(1)?l.right-m.offsetWidth:l.left+(o?0:b.docScroll(1));n=l.bottom+m.offsetHeight/1<=b.winarea()?l.bottom-1:l.top>m.offsetHeight/1.5?l.top-m.offsetHeight-1:b.winarea()-m.offsetHeight;i=Math.max(n+(o?0:b.docScroll())+1,1)+"px",h=k+"px"}else{i="50%",h="50%";m.style.marginTop=-(l.height/2)+"px";m.style.marginLeft=-(l.width/2)+"px"}m.style.top=i;m.style.left=h};b.dateClose=function(){f.body.removeChild(d(b.boxCell)[0])};b.setHtml=function(){var n="",y="",x=new Date(),s=b.checkFormat(b.format),w=(s=="YYYY-MM"||s=="YYYY")?true:false,q=s.substring(0,5)=="hh-mm"?true:false;if((b.val(b.elemCell)||b.text(b.elemCell))==""){y=[x.getFullYear(),x.getMonth()+1,x.getDate(),x.getHours(),x.getMinutes(),x.getSeconds()];b.currDate=new Date(y[0],g(y[1])-1,y[2],y[3],y[4],y[5]);b.ymdDate=y[0]+"-"+b.digit(y[1])+"-"+b.digit(y[2])}else{var p=b.isValHtml(b.elemCell)?b.val(b.elemCell):b.text(b.elemCell);var l=q?p.replace(/^(\d{2})(?=\d)/g,"$1,"):p.substr(0,4).replace(/^(\d{4})/g,"$1,")+p.substr(4).replace(/^(\d{2})(?=\d)/g,"$1,");var o=b.IsNum(p)?l.match(a):p.match(a);if(q){y=s=="hh-mm"?[o[0],o[1],x.getSeconds()]:[o[0],o[1],o[2]];b.currDate=new Date(x.getFullYear(),x.getMonth()-1,x.getDate())}else{y=[o[0],o[1],o[2],o[3]==undefined?x.getHours():o[3],o[4]==undefined?x.getMinutes():o[4],o[5]==undefined?x.getSeconds():o[5]];b.currDate=new Date(y[0],g(y[1])-1,y[2],y[3],y[4],y[5]);b.ymdDate=y[0]+"-"+b.digit(y[1])+"-"+b.digit(y[2])}}b.currMonth=y[1],b.currDays=y[2];var k='<div class="jedatetop">'+(!w?'<div class="jedateym" style="width:50%;"><i class="prev triangle yearprev"></i><span class="jedateyy" ym="24"><em class="jedateyear"></em><em class="pndrop"></em></span><i class="next triangle yearnext"></i></div><div class="jedateym" style="width:50%;"><i class="prev triangle monthprev"></i><span class="jedatemm" ym="12"><em class="jedatemonth"></em><em class="pndrop"></em></span><i class="next triangle monthnext"></i></div>':'<div class="jedateym" style="width:100%;"><i class="prev triangle ymprev"></i><span class="jedateyy"><em class="jedateyearmonth"></em></span><i class="next triangle ymnext"></i></div>')+"</div>";var i=!w?'<div class="jedatetopym" style="display: none;"><ul class="ymdropul"></ul><p><span class="jedateymchle">&lt;&lt;</span><span class="jedateymchri">&gt;&gt;</span><span class="jedateymchok">关闭</span></p></div>':(s=="YYYY"?'<ul class="jedayy"></ul>':'<ul class="jedaym"></ul>');var v='<ol class="jedaol"></ol><ul class="jedaul"></ul>';var h=!w?'<div class="botflex jedatehmsshde"><ul class="jedatehms"><li><input type="text" /></li><i>:</i><li><input type="text" /></li><i>:</i><li><input type="text" /></li></ul></div><div class="botflex jedatebtn"><span class="jedateok">确认</span><span class="jedatetodaymonth">今天</span><span class="jedateclear">清空</span></div>':(s=="YYYY"?'<div class="botflex jedatebtn"><span class="jedateok" style="width:47.8%">确认</span><span class="jedateclear" style="width:47.8%">清空</span></div>':'<div class="botflex jedatebtn"><span class="jedateok">确认</span><span class="jedatetodaymonth">本月</span><span class="jedateclear">清空</span></div>');var r='<div class="jedatebot">'+h+"</div>";var j='<div class="jedateprophms '+(q?"jedatepropfix":"jedateproppos")+'"><div class="jedatepropcon"><div class="jedatehmstitle">时间选择<div class="jedatehmsclose">&times;</div></div><div class="jedateproptext">小时</div><div class="jedateproptext">分钟</div><div class="jedateproptext">秒数</div><div class="jedatehmscon jedateprophours"></div><div class="jedatehmscon jedatepropminutes"></div><div class="jedatehmscon jedatepropseconds"></div></div></div>';var m=w?k+i+r:q?k+j+r:k+i+v+j+r;b.html(d(b.boxCell)[0],m);b.isBool(b.opts.isClear)?"":b.isShow(b.find(".jedatebot .jedateclear")[0],false);if(!w){b.isBool(b.opts.isToday)?"":b.isShow(b.find(".jedatebot .jedatetodaymonth")[0],false)}if(/\hh-mm/.test(s)){var u=function(z){if(b.val(b.elemCell)!=""||b.text(b.elemCell)!=""){var A=z?[y[0],y[1],y[2]]:[y[3],y[4],y[5]]}else{var A=[b.currDate.getHours(),b.currDate.getMinutes(),b.currDate.getSeconds()]}b.each(b.find(".jedatebot .jedatehms input"),function(C,B){b.val(B,b.digit(A[C]));b.isBool(b.opts.ishmsVal)?"":b.attr(B,"readOnly","true")})};if(q){u(true);b.text(b.find(".jedateyear")[0],b.currDate.getFullYear()+"年").text(b.find(".jedatemonth")[0],b.digit(b.currDate.getMonth()+1)+"月")}else{if(b.isBool(b.opts.isTime)){u(false)}else{b.isShow(b.find(".jedatebot .jedatehmsshde")[0],false);b.find(".jedatebot .jedatebtn")[0].style.width="100%"}}}else{if(!w){b.isShow(b.find(".jedatebot .jedatehmsshde")[0],false)}b.find(".jedatebot .jedatebtn")[0].style.width="100%"}if(/\YYYY-MM-DD/.test(s)){b.each(b.weeks,function(A,z){n+='<li class="weeks" data-week="'+z+'">'+z+"</li>"});b.each(b.find(".jedaol"),function(z,A){b.html(A,n)});b.createDaysHtml(b.currDate.getFullYear(),b.currDate.getMonth()+1);b.chooseYM()}if(w){var t=b.find(".jedateym .jedateyearmonth")[0];if(s=="YYYY"){b.attr(t,"data-onyy",y[0]);b.text(t,y[0]+"年");b.html(b.find(".jedayy")[0],b.onlyYear(y[0]))}else{b.attr(t,"data-onym",y[0]+"-"+b.digit(y[1]));b.text(t,y[0]+"年"+g(y[1])+"月");b.html(b.find(".jedaym")[0],b.onlyYMStr(y[0],g(y[1])))}b.onlyYMevents(y)}b.orien(d(b.boxCell)[0],b.elemCell);setTimeout(function(){b.opts.success&&b.opts.success(b.elemCell)},2);b.events(y)};b.createDaysHtml=function(E,D){var w=g(E),M=g(D),u="",q=0;var J=b.minDate.match(a),m=J[0]+J[1]+J[2],t=b.maxDate.match(a),G=t[0]+t[1]+t[2];b.html(b.find(".jedaul")[0],"");var F=new Date(w,M-1,1).getDay()||7,r=b.getDaysNum(w,M),x=b.getPrevMonth(w,M),v=b.getDaysNum(w,x.m),i=b.getNextMonth(w,M),I=b.currDate.getFullYear()+"-"+b.digit(b.currDate.getMonth()+1)+"-"+b.digit(1),j=w+"-"+b.digit(M)+"-"+b.digit(1);b.attr(b.find(".jedateyear")[0],"year",w),b.text(b.find(".jedateyear")[0],w+"年");b.attr(b.find(".jedatemonth")[0],"month",M),b.text(b.find(".jedatemonth")[0],M+"月");var s=function(P,Q,O){var n=b.opts.marks,p=function(S,T){var R=S.length;while(R--){if(S[R]===T){return true}}return false};return b.isType(n,"array")&&n.length>0&&p(n,P+"-"+b.digit(Q)+"-"+b.digit(O))?'<i class="marks"></i>':""};var z=function(p,n){return b.opts.festival?b.festival(p,n):n};var l=function(O,Q,p,P){var n=(O+"-"+b.digit(Q)+"-"+b.digit(p)).replace(/\-/g,"");if(P){if(g(n)>=g(m)&&g(n)<=g(G)){return true}}else{if(g(m)>g(n)||g(G)<g(n)){return true}}};for(var A=v-F+1;A<=v;A++,q++){var y=s(x.y,x.m,A),h=l(x.y,x.m,A,false)?"disabled":"other";u+='<li year="'+x.y+'" month="'+x.m+'" day="'+A+'" class='+h+">"+(z(x.m+"."+A,A)+y)+"</li>"}for(var L=1;L<=r;L++,q++){var N="",K=s(w,M,L),C=(w+"-"+b.digit(M)+"-"+b.digit(L));if(l(w,M,L,true)){N=b.ymdDate==C?"action":(I!=j&&j==C?"action":"")}else{N="disabled"}u+='<li year="'+w+'" month="'+M+'" day="'+L+'" '+(N!=""?"class="+N+"":"")+">"+(z(M+"."+L,L)+K)+"</li>"}for(var B=1,k=42-q;B<=k;B++){var o=s(i.y,i.m,B),H=l(i.y,i.m,B,false)?"disabled":"other";u+='<li year="'+i.y+'" month="'+i.m+'" day="'+B+'" class='+H+">"+(z(i.m+"."+B,B)+o)+"</li>"}b.html(b.find(".jedaul")[0],u);b.chooseDays()};b.onlyYMStr=function(j,h){var i="";b.each(b.montharr,function(p,q){var n=b.parseMatch(b.minDate),m=b.parseMatch(b.maxDate),l=new Date(j,b.digit(q),"01"),k=new Date(n[0],n[1],n[2]),o=new Date(m[0],m[1],m[2]);if(l<k||l>o){i+="<li class='disabled' ym='"+j+"-"+b.digit(q)+"'>"+j+"年"+b.digit(q)+"月</li>"}else{i+="<li "+(h==q?'class="action"':"")+' ym="'+j+"-"+b.digit(q)+'">'+j+"年"+b.digit(q)+"月</li>"}});return i};b.onlyYear=function(h){var i="";b.yearArr=new Array(15);b.each(b.yearArr,function(n){var l=b.parseMatch(b.minDate),k=b.parseMatch(b.maxDate),p=l[0],o=k[0],m=h-7+n,j=b.attr(b.find(".jedateym .jedateyearmonth")[0],"data-onyy");if(m<p||m>o){i+="<li class='disabled' yy='"+m+"'>"+m+"年</li>"}else{i+="<li "+(j==m?'class="action"':"")+" yy='"+m+"'>"+m+"年</li>"}});return i};b.setStrhms=function(){var p=b.format,q=[],i=b.find(".jedatehms li"),n=b.find(".jedatepropcon .jedateproptext"),k=b.find(".jedatepropcon .jedatehmscon");var o=function(v){var u=v.match(a).join("-"),s=u=="YYYY-MM-DD-hh-mm"?v.split(" "):u,t=u=="YYYY-MM-DD-hh-mm"?s[1]:s;return t.match(a).join("-")};var r=o(p)=="hh-mm";if(r){var h=b.getStyle(i[0],"width").replace(/\px|em|rem/g,""),l=b.getStyle(b.find(".jedatehms i")[0],"width").replace(/\px|em|rem/g,""),j=b.getStyle(n[0],"width").replace(/\px|em|rem/g,""),m=Math.round(g(h)+g(h)/2+g(l)/2);i[0].style.width=i[1].style.width=m+"px";n[0].style.width=n[1].style.width=k[0].style.width=k[1].style.width=Math.round(g(j)+g(j)/2+2)+"px"}b.each([24,60,60],function(v,s){var u="",x="",z=b.find(".jedatehms input"),t=b.val(z[v]);b.attr(z[v],"maxlength",2).attr(z[v],"numval",s-1).attr(z[v],"item",v);for(var w=0;w<s;w++){w=b.digit(w);if(b.opts.ishmsLimit){x=w<t?"disabled":w==t?"action":""}else{x=r&&v==2?t==w?"disabled action":"disabled":t==w?"action":"";if(r&&v==2){var y=i[2];y.style.display=y.previousSibling.style.display="none";n[v].style.display=k[v].style.display="none"}}u+='<p class="'+x+'">'+w+"</p>"}q.push(u)});return q};b.onlyYMevents=function(h){var l,k=b.find(".jedateym .ymprev"),m=b.find(".jedateym .ymnext"),i=g(h[0]),j=parseFloat(h[1]);b.each([k,m],function(o,n){b.bind(n,"click",function(p){b.stopmp(p);if(b.checkFormat(b.format)=="YYYY"){l=n==k?b.attr(b.find(".jedayy li")[0],"yy"):b.attr(b.find(".jedayy li")[b.yearArr.length-1],"yy");b.html(b.find(".jedayy")[0],b.onlyYear(g(l)))}else{l=n==k?i-=1:i+=1;b.html(b.find(".jedaym")[0],b.onlyYMStr(l,j))}b.ymPremNextEvents()})})};b.chooseDays=function(){b.bind(b.find(".jedaul li"),"click",function(k){var j=this,h=[],m=b.elemCell;if(b.hasClass(j,"disabled")){return}b.stopmp(k);b.each(b.find(".jedatehms input"),function(p,q){h.push(b.val(q))});var n=g(b.attr(j,"year")),o=parseFloat(b.attr(j,"month")),l=parseFloat(b.attr(j,"day")),i=b.parse([n,o,l],[h[0],h[1],h[2]],b.format);b.isValHtml(m)?b.val(m,i):b.text(m,i);b.dateClose();if(b.isType(b.opts.choosefun,"function")||b.opts.choosefun!=null){b.opts.choosefun&&b.opts.choosefun(b.elemCell,i)}})};b.chooseYM=function(){var h=b.find(".jedatetopym"),n=b.find(".jedateyy"),j=b.find(".jedatemm"),o=b.find(".jedateyy .jedateyear"),s=b.find(".jedatemm .jedatemonth"),i=b.find(".jedateymchri"),m=b.find(".jedateymchle"),p=b.checkFormat(b.format).substring(0,5)=="hh-mm"?true:false;function l(t){var u="";b.each(new Array(15),function(w){if(w===7){var v=b.attr(o[0],"year");u+="<li "+(v==t?'class="action"':"")+' yy="'+t+'">'+t+"年</li>"}else{u+='<li yy="'+(t-7+w)+'">'+(t-7+w)+"年</li>"}});return u}function q(t,u){var v="";if(u==12){b.each(b.montharr,function(w,y){var x=b.attr(s[0],"month"),y=b.digit(y);v+="<li "+(b.digit(x)==y?'class="action"':"")+' mm="'+y+'">'+y+"月</li>"});b.each([i,m],function(x,w){b.isShow(w[0],false)})}else{v=l(t);b.each([i,m],function(x,w){b.isShow(w[0],true)})}b.removeClass(h[0],u==12?"jedatesety":"jedatesetm").addClass(h[0],u==12?"jedatesetm":"jedatesety");b.html(b.find(".jedatetopym .ymdropul")[0],v);b.isShow(h[0],true)}function r(t){b.bind(b.find(".ymdropul li"),"click",function(u){var w=b.attr(this,"yy"),v=g(b.attr(s[0],"month"));b.attr(t,"year",w);b.html(t,w+"年");b.isShow(h[0],false);b.createDaysHtml(w,v)})}!p&&b.bind(n,"click",function(){var u=g(b.attr(this,"ym")),t=g(b.attr(o[0],"year"));q(t,u);r(o[0])});!p&&b.bind(j,"click",function(){var u=g(b.attr(this,"ym")),t=g(b.attr(o[0],"year"));q(t,u);b.bind(b.find(".ymdropul li"),"click",function(v){var x=b.attr(o[0],"year"),w=g(b.attr(this,"mm"));b.attr(s[0],"month",w);b.html(s[0],w+"月");b.isShow(h[0],false);b.createDaysHtml(x,w)})});b.bind(b.find(".jedateymchok"),"click",function(t){b.stopmp(t);b.isShow(h[0],false)});var k=g(b.attr(o[0],"year"));b.each([m,i],function(u,t){b.bind(t,"click",function(w){b.stopmp(w);u==0?k-=15:k+=15;var v=l(k);b.html(b.find(".jedatetopym .ymdropul")[0],v);r(o[0])})})};b.ymPremNextEvents=function(){var i=new Date(),k=b.elemCell,j=(b.checkFormat(b.format)=="YYYY"),h=j?b.find(".jedayy li"):b.find(".jedaym li");b.bind(h,"click",function(o){var n=this;if(b.hasClass(n,"disabled")){return}b.stopmp(o);var m=j?b.attr(n,"yy").match(a):b.attr(n,"ym").match(a),l=j?b.parse([m[0],i.getMonth()+1,1],[0,0,0],b.format):b.parse([m[0],m[1],1],[0,0,0],b.format);b.isValHtml(k)?b.val(k,l):b.text(k,l);b.dateClose();if(b.isType(b.opts.choosefun,"function")||b.opts.choosefun!=null){b.opts.choosefun(b.elemCell,l)}})};b.events=function(o){var t=new Date(),r=b.find(".yearprev"),k=b.find(".yearnext"),u=b.find(".monthprev"),m=b.find(".monthnext"),n=b.find(".jedateyear"),w=b.find(".jedatemonth"),j=(b.checkFormat(b.format)=="YYYY-MM"||b.checkFormat(b.format)=="YYYY")?true:false,q=b.checkFormat(b.format).substring(0,5)=="hh-mm"?true:false;if(!j){!q&&b.each([r,k],function(y,x){b.bind(x,"click",function(C){b.stopmp(C);var B=g(b.attr(n[0],"year")),E=g(b.attr(w[0],"month")),z=x==r?--B:++B,D=b.getPrevMonth(z,E),A=b.getNextMonth(z,E);x==r?b.createDaysHtml(D.y,E):b.createDaysHtml(A.y,E)})});!q&&b.each([u,m],function(y,x){b.bind(x,"click",function(B){b.stopmp(B);var A=g(b.attr(n[0],"year")),D=g(b.attr(w[0],"month")),C=b.getPrevMonth(A,D),z=b.getNextMonth(A,D);x==u?b.createDaysHtml(C.y,C.m):b.createDaysHtml(z.y,z.m)})});var i=b.setStrhms(),p=function(x){b.each(x,function(y,z){if(b.html(z[0])==""){b.html(z[0],i[y])}});if(q){b.isShow(b.find(".jedatehmsclose")[0],false);b.isShow(b.find(".jedatetodaymonth")[0],false)}else{b.isShow(b.find(".jedateprophms")[0],true)}b.each(["hours","minutes","seconds"],function(z,A){var B=b.find(".jedateprop"+A),C=b.find(".jedateprop"+A+" .action");B[0].scrollTop=C[0].offsetTop-118;var y=b.find(".jedateprop"+A+" p");b.bind(y,"click",function(){var D=this;if(b.hasClass(D,"disabled")){return}b.each(y,function(F,E){b.removeClass(E,"action")});b.addClass(D,"action");b.val(b.find(".jedatebot .jedatehms input")[z],b.digit(b.text(D)));if(!q){b.isShow(b.find(".jedateprophms")[0],false)}})})};var s=b.find(".jedateprophours"),h=b.find(".jedatepropminutes"),v=b.find(".jedatepropseconds");if(q){p([s,h,v])}else{b.bind(b.find(".jedatehms"),"click",function(){if(b.find(".jedateprophms")[0].style.display!=="block"){p([s,h,v])}b.bind(b.find(".jedateprophms .jedatehmsclose"),"click",function(){b.isShow(b.find(".jedateprophms")[0],false)})})}b.bind(b.find(".jedatebot .jedatetodaymonth"),"click",function(){var z=[t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()],x=b.parse([z[0],z[1],z[2]],[z[3],z[4],z[5]],b.format),y=b.elemCell;b.createDaysHtml(z[0],z[1]);b.isValHtml(y)?b.val(y,x):b.text(y,x);b.dateClose();if(b.isType(b.opts.choosefun,"function")||b.opts.choosefun!=null){b.opts.choosefun(b.elemCell,x)}if(!j){b.chooseDays()}})}else{var l=b.elemCell;b.ymPremNextEvents();b.bind(b.find(".jedatebot .jedatetodaymonth"),"click",function(z){b.stopmp(z);var y=[t.getFullYear(),t.getMonth()+1,t.getDate()],x=b.parse([y[0],y[1],0],[0,0,0],b.format);b.isValHtml(l)?b.val(l,x):b.text(l,x);b.dateClose();if(b.isType(b.opts.choosefun,"function")||b.opts.choosefun!=null){b.opts.choosefun(b.elemCell,x)}})}b.bind(b.find(".jedatehms input"),"keyup",function(){var y=this,z=y.value,x=g(b.attr(y,"numval")),A=g(b.attr(y,"item"));b.val(y,z.replace(/\D/g,""));if(y.value>x){b.val(y,x);alert("输入值不能大于"+x)}if(this.value==""){b.val(y,"00")}b.each(b.find(".jedatehmscon")[A].childNodes,function(C,B){b.removeClass(B,"action")});b.addClass(b.find(".jedatehmscon")[A].childNodes[g(y.value.replace(/^0/g,""))],"action");b.each(["hours","minutes","seconds"],function(B,C){var D=b.find(".jedateprop"+C),E=b.find(".jedateprop"+C+" .action");D[0].scrollTop=E[0].offsetTop-118})});b.bind(b.find(".jedatebot .jedateclear"),"click",function(x){b.stopmp(x);var z=b.elemCell,y=b.isValHtml(z)?b.val(z):b.text(z);b.isValHtml(z)?b.val(z,""):b.text(z,"");b.dateClose();if(y!=""){if(b.isBool(b.opts.clearRestore)){b.opts.minDate=b.opts.startMin||c.startMin;b.opts.maxDate=b.opts.startMax||c.startMax}if(b.isType(b.opts.clearfun,"function")||b.opts.clearfun!=null){b.opts.clearfun(b.elemCell,y)}}});b.bind(b.find(".jedatebot .jedateok"),"click",function(I){b.stopmp(I);var C=b.elemCell,E=(b.val(C)||b.text(C))!="",D=b.checkFormat(b.format)=="YYYY",H="",G=function(){var M=[];b.each(b.find(".jedatehms input"),function(N,O){M.push(b.val(O))});return M};if(E){var F=b.isValHtml(C)?b.val(C):b.text(C),J=F.match(a);if(!j){var z=G(),B=[g(b.attr(n[0],"year")),g(b.attr(w[0],"month")),J[2]];H=E?b.parse([B[0],B[1],B[2]],[z[0],z[1],z[2]],b.format):"";if(!q){b.createDaysHtml(B[0],B[1])}b.chooseDays()}else{var y=D?b.find(".jedayy .action")[0]:b.find(".jedaym .action")[0];if(D){var A=y?b.attr(y,"yy").match(a):J;H=b.parse([g(A[0]),t.getMonth()+1,1],[0,0,0],b.format)}else{var K=y?b.attr(y,"ym").match(a):J;H=b.parse([g(K[0]),g(K[1]),1],[0,0,0],b.format)}}}else{var L=G(),x=b.find(".jedateyearmonth")[0],A="";if(q){H=b.parse([o[0],o[1],o[2]],[L[0],L[1],L[2]],b.format)}else{if(j){A=b.checkFormat(b.format)=="YYYY"?b.attr(x,"data-onyy").match(a):b.attr(x,"data-onym").match(a)}else{A=[t.getFullYear(),t.getMonth()+1,t.getDate()]}H=D?b.parse([g(A[0]),t.getMonth()+1,1],[0,0,0],b.format):b.parse([g(A[0]),g(A[1]),t.getDate()],[L[0],L[1],L[2]],b.format)}}b.isValHtml(C)?b.val(C,H):b.text(C,H);b.dateClose();if(b.isType(b.opts.okfun,"function")||b.opts.okfun!=null){b.opts.okfun(b.elemCell,H)}});b.bind(document,"mouseup",function(y){b.stopmp(y);var x=d(b.boxCell)[0];if(x&&x.style.display!=="none"){f.body.removeChild(x)}});b.bind(d(b.boxCell),"mouseup",function(x){b.stopmp(x)})};var e=function(h){try{b.event=window.event?window.event:e.caller.arguments[0]}catch(i){}return new b.initDate(h||{})};e.version="3.4";e.now=function(h){return b.nowDate(h)};e.addDate=function(j,h,i){h=h|0;i=i||"DD";return b.addDateTime(j,h,i,b.format)};return e});